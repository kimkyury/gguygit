---
import CulturePostLayout from '../../layouts/CulturePostLayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const entries = await getCollection('culture');
  return entries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry }
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
const formatDate = (date) => date.toISOString().slice(0, 10).replace(/-/g, '.');
---

<CulturePostLayout
  title={entry.data.title}
  date={formatDate(entry.data.date)}
  rating={entry.data.rating}
  youtube={entry.data.youtube}
  summary={entry.data.summary}
>
  <Content />
</CulturePostLayout>
